<?php

// Replace 'YOUR_BOT_TOKEN' with your actual Telegram bot token
$botToken = '1365656542:AAFv1_2FXKxQIV2jdQGN6HHewjNb1LrDWLk';
$website = "https://api.telegram.org/bot$botToken";

$input = file_get_contents('php://input');
$update = json_decode($input, TRUE);

$chatId = $update['message']['chat']['id'];
$message = $update['message']['text'];

if ($message == '/start') {
    $response = "Welcome! Use /generate to create a new password.";
} elseif ($message == '/generate') {
    $password = generatePassword();
    $response = "Your new password is: $password";
} else {
    $response = "Unknown command. Use /generate to create a new password.";
}

sendMessage($chatId, $response);

function generatePassword() {
    $characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    $password = '';
    for ($i = 0; $i < 16; $i++) {
        $password .= $characters[rand(0, strlen($characters) - 1)];
    }
    return $password;
}

function sendMessage($chatId, $message) {
    global $website;
    $url = $website.'/sendMessage?chat_id='.$chatId.'&text='.urlencode($message);
    file_get_contents($url);
}

?>
